# Guia Técnico: Google Agent Development Kit (ADK) para Python

## 1. Arquitetura Central do ADK Python

Esta seção detalha os componentes fundamentais e os princípios arquitetônicos do Google Agent Development Kit para Python, fornecendo uma base sólida para a construção de agentes.

*   **Classes Principais de Agentes:**
    A arquitetura do ADK é centrada em agentes, unidades de execução autônomas projetadas para atingir objetivos específicos. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGsVwOQkznGKHWEkUEPvSwQUOFHeLCq5Q3Ik_XTxkVufFD8RyJ0k3i2Lx9e6sB8ydMVWTrv_uSamqNGHYgFPGqhpLKvKs6hNIQ0jxh444JNv7ptjKUBRr2is5nQZkE7PqGFiRI=) A base para todos os agentes é a classe `BaseAgent`, que serve como o modelo fundamental. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGsVwOQkznGKHWEkUEPvSwQUOFHeLCq5Q3Ik_XTxkVufFD8RyJ0k3i2Lx9e6sB8ydMVWTrv_uSamqNGHYgFPGqhpLKvKs6hNIQ0jxh444JNv7ptjKUBRr2is5nQZkE7PqGFiRI=)
    *   `BaseAgent`: É a classe fundamental que permite aos desenvolvedores implementar lógica operacional única, fluxos de controle específicos ou integrações especializadas, atendendo a requisitos de aplicação altamente personalizados. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGsVwOQkznGKHWEkUEPvSwQUOFHeLCq5Q3Ik_XTxkVufFD8RyJ0k3i2Lx9e6sB8ydMVWTrv_uSamqNGHYgFPGqhpLKvKs6hNIQ0jxh444JNv7ptjKUBRr2is5nQZkE7PqGFiRI=)
    *   `LlmAgent`: Estes agentes utilizam Large Language Models (LLMs) como seu motor principal. São capazes de compreender linguagem natural, raciocinar, planejar, gerar respostas e decidir dinamicamente como prosseguir ou quais ferramentas usar, sendo ideais para tarefas flexíveis e centradas na linguagem. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGjLCK8ae4zQAyBARd4GkrQ4MpilV6ewx-PxS7TOWPd7wiZjaAEEbQlDvKHGoIzd8iUlYbxN3dEb6URR7enAMwtTHwar-WrHNEvBNmWunwNyjkHFoaDK_QPjlmFSdJxFBw_86S-aUoBRJ_u5-abU80=)
    *   `SequentialAgent`: Classificado como um "Workflow Agent", ele orquestra a execução de sub-agentes em uma sequência predefinida e determinística, sem usar um LLM para controle de fluxo. É perfeito para processos estruturados que precisam de execução previsível. [githubusercontent.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFuYnvzbxe7Zc3UGwLZZiS72kOps3vtokkX6zLiSsZCMK4ss6fr7nry_PfGCKds6Oa9ZdAG5EbPT3_473mrg36O0Kvlu9FZzCLBtWyw1eb7WoOvpBJloXE8sMZsPr3xr0v-8C5Pr4dYJg0DZlrpXKxhkg01G2J1x71Otej3yaRzOYPK9aI=)
    *   `LoopAgent`: Também um "Workflow Agent", gerencia processos iterativos executando sub-agentes em um loop. É crucial implementar um mecanismo de terminação, como um número máximo de iterações ou um sinal de parada de um sub-agente, para evitar loops infinitos. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFejaXEBqoHjOJPFFpmnVC3rtbyeaQVyD-fTErwDFHp4WBVIAQspXsjIT40Ld8aubcQUytjG0rhra4ddmGrqtNXLvGEePAjHMlBv3ciWEoF21xiaj5NbQxK0EWFDLGhOvcfg9QZANkSUkSmGdlBHQ05pEk-FMK5YK66SOWMr9w7AWN6jFoFz_xoFAUaFg==)
*   **Sistema de Eventos e Callbacks:**
    *   O ADK fornece mecanismos que incluem o uso de callbacks para gerenciar o contexto e personalizar o comportamento do agente. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGYpZxJLwFfpPcgV-XAZNgXPuFbo1RiOG6iaJ1oghtNHmx7Crn9nSC0gkPkxS59j6xVymRj2A57MvnJy4MTJl3zRW-3KisnMd8HgeUHHiSmRwWypbyXMmR5S-zAgXNe2CaRKVZ2GxHVQcTZ8g1t35ygfL3gzFblbPRtWH6y2y8l3VA7y9JbjMSJ4KY=) O ADK inclui ferramentas como uma interface de linha de comando (CLI) e uma interface de usuário do desenvolvedor (UI) para inspecionar etapas de execução, como eventos e alterações de estado. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEztBGumbej1U4P27MQSw8JzWwsZT0xCjqjERpayndCszxfwo5ZO8abCvXXa3QW35Ct0AXBzTmbrTj6YMPuBoje6jqh-U-7XUcmQaovLEg37_WxjnHUqUZBz_PHuK1SjZntd7ib_GKWble8st922g0=)
    *   Callbacks são comumente usados para tratar eventos e estender a funcionalidade em programação assíncrona e orientada a eventos. [awari.com.br](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHkYDzRkxkWXajIwEsZb83dYGtbWIcvlTbHRcqU4_BfYWecTQXSfXM_gmB0TpHrhB9gz_zKb83DmZc-dXvMhcSX-6CWgEWIV3k-FaUPA-XLD5YDLOAVwHRzOYwmxHxfbXx--J8f43vWssrm-wIeV2hgR2MSrZW4o-M3D4VVpUsp3PGnLy8GhjvPsRrljKJCwP1naCbc) Padrões de uso incluem a aplicação de políticas (guardrails), gerenciamento dinâmico de estado, logging e monitoramento, caching, modificação de requisições/respostas, e a capacidade de pular etapas condicionalmente. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGYpZxJLwFfpPcgV-XAZNgXPuFbo1RiOG6iaJ1oghtNHmx7Crn9nSC0gkPkxS59j6xVymRj2A57MvnJy4MTJl3zRW-3KisnMd8HgeUHHiSmRwWypbyXMmR5S-zAgXNe2CaRKVZ2GxHVQcTZ8g1t35ygfL3gzFblbPRtWH6y2y8l3VA7y9JbjMSJ4KY=)
*   **Gerenciamento de Estado e Sessões:**
    *   O ADK oferece mecanismos para gerenciar o contexto conversacional através de `Session` e o estado de curto prazo. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc0WzkEFMKC-PUIYsWaP_UPt9Yxclai_QjK_TLm2W2FVu3pDtOWs61Mo9aK_Zuhob9dvgtmxsXSCBhcWsVQDPuNSzAClmOnB1jCDP0EKWy1ifvcDQOBMwoa-3viRVLtaBstVvhO9kH7HV_nw3y3AHbxjA=) Uma implementação de exemplo é o `InMemorySessionService`, que armazena dados de sessão na memória e é adequado para testes e aplicações simples. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc0WzkEFMKC-PUIYsWaP_UPt9Yxclai_QjK_TLm2W2FVu3pDtOWs61Mo9aK_Zuhob9dvgtmxsXSCBhcWsVQDPuNSzAClmOnB1jCDP0EKWy1ifvcDQOBMwoa-3viRVLtaBstVvhO9kH7HV_nw3y3AHbxjA=)
    *   O gerenciamento de estado da sessão é fundamental para lembrar a identidade do usuário, credenciais, informações de personalização e ações recentes, garantindo uma experiência contínua e personalizada. [redis.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFSvxtpeZ4Tp0Q2-KBEQjZQBANhf_gOZCTpQ_H8YoMOTAFRV7-uOBHsBBWZpyuvWRa4h0eXyfjU6lokZysBwGdUebH0Y1Z0At1yCT_GA7jGQXhbD1P9oMsaFA5DIZdbbovPNeFJDC0t9xk2k-zus_g-bWyiC2AvP5sal4BBVA==) Os dados de sessão são tipicamente armazenados como pares chave-valor. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc0WzkEFMKC-PUIYsWaP_UPt9Yxclai_QjK_TLm2W2FVu3pDtOWs61Mo9aK_Zuhob9dvgtmxsXSCBhcWsVQDPuNSzAClmOnB1jCDP0EKWy1ifvcDQOBMwoa-3viRVLtaBstVvhO9kH7HV_nw3y3AHbxjA=)
*   **Estrutura de Tools e Criação de Tools Customizadas:**
    *   As "Tools" (ferramentas) são componentes essenciais no ADK, estendendo as capacidades dos agentes ao permitir que eles interajam com recursos externos ou executem tarefas específicas. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEztBGumbej1U4P27MQSw8JzWwsZT0xCjqjERpayndCszxfwo5ZO8abCvXXa3QW35Ct0AXBzTmbrTj6YMPuBoje6jqh-U-7XUcmQaovLEg37_WxjnHUqUZBz_PHuK1SjZntd7ib_GKWble8st922g0=) O ADK oferece ferramentas embutidas como o Google Search, Code Execution e Vertex AI Search. [aalpha.net](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQF8m9lUES0vubpYHUvfeYC2ls3ytz7OaUineZ1BrIQp1VPH_hvWIliwT4j3bldGCxPeRzvG--FFgwASEbtITS3SVubtr7a54jBW9mMZ3pSDXf72Lc4NvBZwBWv7KkixYDYl9FPGyh-Mrrt8-wZdOENkHut5NAJDMwyTPgaIVDswvh_8ZRaRFoF6NiKiNdb1WrGAQJQTwA==)
    *   Para criar uma ferramenta customizada, define-se uma função Python padrão com anotações de tipo e docstrings. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc0WzkEFMKC-PUIYsWaP_UPt9Yxclai_QjK_TLm2W2FVu3pDtOWs61Mo9aK_Zuhob9dvgtmxsXSCBhcWsVQDPuNSzAClmOnB1jCDP0EKWy1ifvcDQOBMwoa-3viRVLtaBstVvhO9kH7HV_nw3y3AHbxjA=) O docstring é essencial, pois fornece ao LLM o contexto necessário para usar a ferramenta corretamente. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc0WzkEFMKC-PUIYsWaP_UPt9Yxclai_QjK_TLm2W2FVu3pDtOWs61Mo9aK_Zuhob9dvgtmxsXSCBhcWsVQDPuNSzAClmOnB1jCDP0EKWy1ifvcDQOBMwoa-3viRVLtaBstVvhO9kH7HV_nw3y3AHbxjA=) Além disso, é possível envolver outro agente como uma ferramenta usando a classe `AgentTool`, [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEztBGumbej1U4P27MQSw8JzWwsZT0xCjqjERpayndCszxfwo5ZO8abCvXXa3QW35Ct0AXBzTmbrTj6YMPuBoje6jqh-U-7XUcmQaovLEg37_WxjnHUqUZBz_PHuK1SjZntd7ib_GKWble8st922g0=) e o design "code-first" do ADK sugere uma alta flexibilidade para desenvolver ferramentas personalizadas. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGX6av3OK82jmr2NgXhhP_apvXnYKKZPqjHr-uqxaJudvNHjT871oShXi07jwzIgrFQMuia5bOdIeYKTvN8ZRV4n6srLQWUCXSWI-U6PJRzMa8ogioAKKk3jC1KAIQRKL8zf5_E5GqQmtmrFBBwIp44TVlNpLkwQex6894-Zu6oAmLJzg-hZdKuFFEPZSe0ZLuZXfG1WFr99nKKHjoqAB-kZMi4Mx6cpS-W)

## 2. Padrões de Implementação com ADK

Esta seção explora padrões e técnicas comuns para implementar agentes ADK, focando em cenários práticos como busca de documentação técnica e integração com sistemas externos.

*   **Estruturando um Agente para Busca de Documentação Técnica:**
    *   Um agente especializado em busca de documentação técnica seria idealmente construído usando um `LlmAgent`, aproveitando suas capacidades de raciocínio e uso de ferramentas. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGjLCK8ae4zQAyBARd4GkrQ4MpilV6ewx-PxS7TOWPd7wiZjaAEEbQlDvKHGoIzd8iUlYbxN3dEb6URR7enAMwtTHwar-WrHNEvBNmWunwNyjkHFoaDK_QPjlmFSdJxFBw_86S-aUoBRJ_u5-abU80=)
    *   A funcionalidade principal envolveria receber perguntas do usuário, usar ferramentas de busca para encontrar informações relevantes (como a ferramenta `Google Search` ou `Vertex AI Search` do ADK), processar e sintetizar os resultados utilizando o LLM, e apresentar as respostas de forma estruturada, preferencialmente com links diretos para as fontes. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc0WzkEFMKC-PUIYsWaP_UPt9Yxclai_QjK_TLm2W2FVu3pDtOWs61Mo9aK_Zuhob9dvgtmxsXSCBhcWsVQDPuNSzAClmOnB1jCDP0EKWy1ifvcDQOBMwoa-3viRVLtaBstVvhO9kH7HV_nw3y3AHbxjA=) A avaliação contínua e o refinamento iterativo são essenciais para garantir a precisão e relevância das respostas do agente ao longo do tempo. [aalpha.net](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQF8m9lUES0vubpYHUvfeYC2ls3ytz7OaUineZ1BrIQp1VPH_hvWIliwT4j3bldGCxPeRzvG--FFgwASEbtITS3SVubtr7a54jBW9mMZ3pSDXf72Lc4NvBZwBWv7KkixYDYl9FPGyh-Mrrt8-wZdOENkHut5NAJDMwyTPgaIVDswvh_8ZRaRFoF6NiKiNdb1WrGAQJQTwA==)
*   **Implementação de Web Search com Filtros de Domínio:**
    *   O ADK inclui uma ferramenta `Google Search` embutida. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHwps1wgBkKwge8vYM5ldjm4HWmBssPOcdA7PENw9QlqcPt3lAMDHm4-14qTcYAjcDRGmqracRRSuOP7JZgON3DNqaSBHLBq7FnLBBhJdvtwxTSlD-TvU72VsPjuvQJdL-YHeJK7MHPFNDntj_wultOOQ6M-mG6wcNAowJatuUnY9vm_QNKbXRg)
    *   Para restringir as buscas a domínios específicos, como `google.github.io/adk-docs/`, a prática comum é usar o operador `site:` diretamente na consulta de pesquisa. Embora a documentação oficial do ADK não detalhe parâmetros específicos para filtragem de domínio em sua ferramenta, o conceito é amplamente suportado em mecanismos de busca e seria implementado ao formatar a string de consulta enviada à ferramenta.
*   **Sistema de Avaliação e Refinamento de Resultados:**
    *   A avaliação e o refinamento são componentes críticos para a qualidade dos agentes de IA. [aalpha.net](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQF8m9lUES0vubpYHUvfeYC2ls3ytz7OaUineZ1BrIQp1VPH_hvWIliwT4j3bldGCxPeRzvG--FFgwASEbtITS3SVubtr7a54jBW9mMZ3pSDXf72Lc4NvBZwBWv7KkixYDYl9FPGyh-Mrrt8-wZdOENkHut5NAJDMwyTPgaIVDswvh_8ZRaRFoF6NiKiNdb1WrGAQJQTwA==) As estratégias incluem:
        *   **Testes Iterativos**: Realizar testes contínuos com uma variedade de cenários para identificar e corrigir falhas, aprimorando prompts e a arquitetura do agente. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFXeNSNpOt-dphq5o4h4IvpbVZY2goCITRcD1gtnVd2UPJ-M17DZT1dfvDSkkwrCxFmRD59sEk_Bz_dbPZMF0zc0cmUM_goXFRc2NGlb5GiHVc8G1APLBgtWQlH04cEApPJHFE5Fal0mnaxmBUEzVEoqZ0e1sfa-2gaQ2hCOqBD9POJIh0KrNeRzYR4sQxasDtGhRhzF5R8YagSxTRmK3TVvN4R)
        *   **Tratamento de Erros Robusto**: Implementar mecanismos para gerenciar entradas inesperadas ou falhas de ferramentas, potencialmente solicitando esclarecimentos ao usuário ou buscando alternativas. [plainenglish.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGt_oD327UIM_dPPYVbeoO1IdAMmVmvggNPOxXGF7SYKon_q7yOYE8zWfkDmJYbL6eO2ohl9xUxvAgIzCQP9CtpwzJKRssEd_d3Hw6oS4aclgIamXHyNlE-rqlFpXnEZils_mgSlPL62vF5zB2gcdXSzKhcX2Fq4eAdBG-rG-Hfl3lbZeqOeFhbo6kXKM_H8kcbE_EPK4X80MLHfp6wdoifziRAAsC_U2A4xFBKsSucVlEEC1BS)
        *   **Feedback do Usuário**: Incorporar um ciclo de feedback para melhoria contínua baseada na experiência do usuário. [aalpha.net](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQF8m9lUES0vubpYHUvfeYC2ls3ytz7OaUineZ1BrIQp1VPH_hvWIliwT4j3bldGCxPeRzvG--FFgwASEbtITS3SVubtr7a54jBW9mMZ3pSDXf72Lc4NvBZwBWv7KkixYDYl9FPGyh-Mrrt8-wZdOENkHut5NAJDMwyTPgaIVDswvh_8ZRaRFoF6NiKiNdb1WrGAQJQTwA==)
        *   **Avaliação Abrangente**: Utilizar técnicas como "LLM-as-a-judge" para relatar métricas de desempenho e comparar configurações de LLM. [aalpha.net](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQF8m9lUES0vubpYHUvfeYC2ls3ytz7OaUineZ1BrIQp1VPH_hvWIliwT4j3bldGCxPeRzvG--FFgwASEbtITS3SVubtr7a54jBW9mMZ3pSDXf72Lc4NvBZwBWv7KkixYDYl9FPGyh-Mrrt8-wZdOENkHut5NAJDMwyTPgaIVDswvh_8ZRaRFoF6NiKiNdb1WrGAQJQTwA==)
        *   **Rastreamento Detalhado**: Registrar cada etapa da execução do agente (entradas, uso de ferramentas, geração de respostas) para depuração, otimização de precisão, latência e custo. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEJQCW9yUDfu6kP_eHMuOvPvkm-oq6ZKihGc4VDYi4lRhGeo6zESLEDj4QKqnJ-L4JEMSI-onKdtwgtqKC96WbcI0uKMywh5jAPDCtFwKPrE_bGnuevkkv3t94396xKRWA4-r1yqRzhZjFkpVyCBc5HuLb_DoO_pd7QPkkwjpg4eTyY7jPtLa-avn1A-Co=)
*   **Integração com APIs Externas:**
    *   A integração com APIs externas é facilitada no ADK através do conceito de "Tools". Agentes podem interagir com serviços de terceiros e acessar dados em tempo real ou executar ações. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEztBGumbej1U4P27MQSw8JzWwsZT0xCjqjERpayndCszxfwo5ZO8abCvXXa3QW35Ct0AXBzTmbrTj6YMPuBoje6jqh-U-7XUcmQaovLEg37_WxjnHUqUZBz_PHuK1SjZntd7ib_GKWble8st922g0=)
    *   Isso é feito encapsulando chamadas de API dentro de funções Python e expondo-as ao agente. Para chamadas HTTP, bibliotecas Python padrão como `requests` seriam usadas dentro da implementação da ferramenta, seguindo os padrões de autenticação e manipulação de dados da API externa. [plainenglish.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGt_oD327UIM_dPPYVbeoO1IdAMmVmvggNPOxXGF7SYKon_q7yOYE8zWfkDmJYbL6eO2ohl9xUxvAgIzCQP9CtpwzJKRssEd_d3Hw6oS4aclgIamXHyNlE-rqlFpXnEZils_mgSlPL62vF5zB2gcdXSzKhcX2Fq4eAdBG-rG-Hfl3lbZeqOeFhbo6kXKM_H8kcbE_EPK4X80MLHfp6wdoifziRAAsC_U2A4xFBKsSucVlEEC1BS) A flexibilidade do `BaseAgent` permite a criação de ferramentas customizadas para qualquer integração de API. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGE9LHo6oNTp957OyUJgWsPjYV3b7iecmBHst3t55PQdXg_0-Nk6XEngDUFw8GGG3qacLFkceYY01YGmZOYKZUMqgIZ3WoHbKuqnxUj4Z2BPjJbEtWziDskJl2SrrxQy_xqP0FOt235ZIJ6nzNBCpJRwWU2nMVpej_GbEHSRKSr-RmVBO9TgEzALTngnBWqhufX5bRKMY6EBHuuxrn5Z8vyEJcka-awSAHDOoLL9m4=)

## 3. Exemplo Prático Completo: O Agente de Documentação ADK

Esta seção apresenta um exemplo prático e funcional de um agente ADK, o "ADK Documentation Agent", com código Python completo e explicações detalhadas de sua implementação.

*   **Visão Geral e Funcionalidade do Agente:**
    *   O `ADK Documentation Agent` é projetado para receber perguntas de usuários sobre o desenvolvimento com o ADK.
    *   Sua funcionalidade principal é pesquisar exclusivamente na documentação oficial (`google.github.io/adk-docs/`) e retornar respostas estruturadas, incluindo links diretos para as seções relevantes da documentação. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHwps1wgBkKwge8vYM5ldjm4HWmBssPOcdA7PENw9QlqcPt3lAMDHm4-14qTcYAjcDRGmqracRRSuOP7JZgON3DNqaSBHLBq7FnLBBhJdvtwxTSlD-TvU72VsPjuvQJdL-YHeJK7MHPFNDntj_wultOOQ6M-mG6wcNAowJatuUnY9vm_QNKbXRg) Adicionalmente, um mecanismo de cache será implementado para otimizar consultas repetidas, melhorando a eficiência e reduzindo o tempo de resposta. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGETNWx6ar8FCMfsaMHIp9pXtZVJ_5h2y0PcdE0epG9tLpGrq7BBVYAfiQ6FDb7BcOVotT0XcOgBRx_O6_okFrPdkuQfy8KD91cFBUd8ZIwPa-1uhZqswHv6wIU7iRGs2_1ZWYs1EiXyaZnanwiJp7jFCJNqi3osmg3glCIuU8mT4QCVMrlsH94E8CJcRaPEjW2_JE3latrve8xuMhrXZCnX-4pVjh58E4kf_WzfEW2)
*   **Implementação do Núcleo do Agente:**
    *   A estrutura de um agente básico pode ser baseada no "Quickstart" da documentação oficial do ADK, que demonstra como configurar um agente com a ferramenta `google_search`. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQESIUHVt8t4UdbFqsQ9ED0ZqPZwPcQN2ibPGVwwjlAxzjYD_m_BZxWud9QLHy-50tvuboSJ4-lSx0vhNtxQG_BoEKm_qc7qMrgXh_BKScsOXuTgV9qEGW9XJhQ0ax7werd8CP3uECh9VWuZ1R-OJw-S7xW89g==)
    *   Para buscar apenas no domínio especificado, é necessário customizar a ferramenta de busca. Isso pode ser feito criando uma função Python que encapsula a lógica de busca e adiciona o operador `site:google.github.io/adk-docs/` à consulta. [plainenglish.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGt_oD327UIM_dPPYVbeoO1IdAMmVmvggNPOxXGF7SYKon_q7yOYE8zWfkDmJYbL6eO2ohl9xUxvAgIzCQP9CtpwzJKRssEd_d3Hw6oS4aclgIamXHyNlE-rqlFpXnEZils_mgSlPL62vF5zB2gcdXSzKhcX2Fq4eAdBG-rG-Hfl3lbZeqOeFhbo6kXKM_H8kcbE_EPK4X80MLHfp6wdoifziRAAsC_U2A4xFBKsSucVlEEC1BS)
    *   Para garantir respostas estruturadas, o ADK suporta `output_schema` com modelos Pydantic. [saptak.in](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHKPUlb3B3c3hWTiVPE_ddrwvZmC-BTyvAVW1XkcmpakoGeVfr6C7w2nwp7Er0jzWNpP1cqhO1QFMIkGUTafgr9jlfGOPcIrv4w350oDJS6JzyqzFwwBdJwmtLhN_NNj3p23u7XS5lY6_8FQ3TIcrZeJvKHAxsqvzB3QxI=) Isso permite definir um esquema esperado para a resposta do agente (por exemplo, um JSON com campos como "título", "resumo" e "link"), garantindo que o LLM formate sua saída de acordo. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGjLCK8ae4zQAyBARd4GkrQ4MpilV6ewx-PxS7TOWPd7wiZjaAEEbQlDvKHGoIzd8iUlYbxN3dEb6URR7enAMwtTHwar-WrHNEvBNmWunwNyjkHFoaDK_QPjlmFSdJxFBw_86S-aUoBRJ_u5-abU80=)
*   **Mecanismo de Cache para Otimização:**
    *   Embora o cache não seja integrado ao ADK por padrão, ele pode ser implementado usando callbacks. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGETNWx6ar8FCMfsaMHIp9pXtZVJ_5h2y0PcdE0epG9tLpGrq7BBVYAfiQ6FDb7BcOVotT0XcOgBRx_O6_okFrPdkuQfy8KD91cFBUd8ZIwPa-1uhZqswHv6wIU7iRGs2_1ZWYs1EiXyaZnanwiJp7jFCJNqi3osmg3glCIuU8mT4QCVMrlsH94E8CJcRaPEjW2_JE3latrve8xuMhrXZCnX-4pVjh58E4kf_WzfEW2)
    *   Um mecanismo de cache simples pode ser implementado como um dicionário em memória ou um cache mais robusto (como Redis). Antes de executar uma busca, o agente verificaria se a consulta já existe no cache. Estratégias como "cache-aside" e uso de "Time-to-Live (TTL)" para gerenciar a expiração do cache são relevantes. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGYpZxJLwFfpPcgV-XAZNgXPuFbo1RiOG6iaJ1oghtNHmx7Crn9nSC0gkPkxS59j6xVymRj2A57MvnJy4MTJl3zRW-3KisnMd8HgeUHHiSmRwWypbyXMmR5S-zAgXNe2CaRKVZ2GxHVQcTZ8g1t35ygfL3gzFblbPRtWH6y2y8l3VA7y9JbjMSJ4KY=)
*   **Guia de Configuração e Execução:**
    *   A configuração inicial do ambiente e a instalação do ADK (`pip install google-adk`) seguem as instruções do quickstart, incluindo a criação de um ambiente virtual. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHwps1wgBkKwge8vYM5ldjm4HWmBssPOcdA7PENw9QlqcPt3lAMDHm4-14qTcYAjcDRGmqracRRSuOP7JZgON3DNqaSBHLBq7FnLBBhJdvtwxTSlD-TvU72VsPjuvQJdL-YHeJK7MHPFNDntj_wultOOQ6M-mG6wcNAowJatuUnY9vm_QNKbXRg)
    *   A execução de agentes ADK pode ser feita via linha de comando (`adk run`) ou através de uma interface web local (`adk web`) para testes e debugging. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQESIUHVt8t4UdbFqsQ9ED0ZqPZwPcQN2ibPGVwwjlAxzjYD_m_BZxWud9QLHy-50tvuboSJ4-lSx0vhNtxQG_BoEKm_qc7qMrgXh_BKScsOXuTgV9qEGW9XJhQ0ax7werd8CP3uECh9VWuZ1R-OJw-S7xW89g==) É importante navegar para a pasta pai do projeto do agente para que o `adk web` funcione corretamente. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQESIUHVt8t4UdbFqsQ9ED0ZqPZwPcQN2ibPGVwwjlAxzjYD_m_BZxWud9QLHy-50tvuboSJ4-lSx0vhNtxQG_BoEKm_qc7qMrgXh_BKScsOXuTgV9qEGW9XJhQ0ax7werd8CP3uECh9VWuZ1R-OJw-S7xW89g==)

## 4. Melhores Práticas para Desenvolvimento com ADK

Esta seção oferece diretrizes e recomendações para desenvolver agentes ADK de forma eficiente, robusta e escalável, abrangendo desde a estrutura do projeto até o tratamento de erros e testes.

*   **Estrutura de Diretórios Recomendada:**
    *   O ADK requer uma estrutura de pastas específica para identificar e executar agentes. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQESIUHVt8t4UdbFqsQ9ED0ZqPZwPcQN2ibPGVwwjlAxzjYD_m_BZxWud9QLHy-50tvuboSJ4-lSx0vhNtxQG_BoEKm_qc7qMrgXh_BKScsOXuTgV9qEGW9XJhQ0ax7werd8CP3uECh9VWuZ1R-OJw-S7xW89g==)
    *   A estrutura básica recomendada inclui uma pasta de projeto pai que contém uma pasta para o agente. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQESIUHVt8t4UdbFqsQ9ED0ZqPZwPcQN2ibPGVwwjlAxzjYD_m_BZxWud9QLHy-50tvuboSJ4-lSx0vhNtxQG_BoEKm_qc7qMrgXh_BKScsOXuTgV9qEGW9XJhQ0ax7werd8CP3uECh9VWuZ1R-OJw-S7xW89g==) Dentro da pasta do agente, os arquivos essenciais são `__init__.py`, `agent.py` e `.env` (para armazenar variáveis de ambiente sensíveis, como chaves de API). [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQESIUHVt8t4UdbFqsQ9ED0ZqPZwPcQN2ibPGVwwjlAxzjYD_m_BZxWud9QLHy-50tvuboSJ4-lSx0vhNtxQG_BoEKm_qc7qMrgXh_BKScsOXuTgV9qEGW9XJhQ0ax7werd8CP3uECh9VWuZ1R-OJw-S7xW89g==)
    *   É comum separar o código dos agentes da aplicação principal. [firecrawl.dev](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQE3I67lxtSb2nsKX9aRU-sMlfUpsK_bX23nYaG6hYbT8LTugsZCZoxkqwjVKe2OkZZuyDoTJpUms0Vu_k_kFWHaUcAPKtyc7711VICYchxfQEVSwiOhcr83KmWuu58QFQ3n9BmHpy80ubGEWlaT8eW8Gudur998GxT1) A criação de um ambiente virtual (`python -m venv.venv`) é altamente recomendada para gerenciar dependências. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHwps1wgBkKwge8vYM5ldjm4HWmBssPOcdA7PENw9QlqcPt3lAMDHm4-14qTcYAjcDRGmqracRRSuOP7JZgON3DNqaSBHLBq7FnLBBhJdvtwxTSlD-TvU72VsPjuvQJdL-YHeJK7MHPFNDntj_wultOOQ6M-mG6wcNAowJatuUnY9vm_QNKbXRg)
*   **Configuração de Modelos Gemini para Eficiência:**
    *   **Escolha do Modelo:** O ADK é flexível, permitindo a integração de vários LLMs. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQG8-pTQPnuPrn4T-yoAIeveHgz2ClmZk7D-pRT7LqiRiCMgYqhZHELlwU6a93jfalQWFc3CKBurZIUO58sbNkHuVQ-0DuvQuD81G91J5aybCCArUOrnVkIfTfyHDiQ9Kv_PgNFWnImoz4SM_g==) Para modelos Google Gemini, o identificador do modelo (ex: "gemini-1.5-flash") é passado diretamente para o parâmetro `model` do `LlmAgent`. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQG8-pTQPnuPrn4T-yoAIeveHgz2ClmZk7D-pRT7LqiRiCMgYqhZHELlwU6a93jfalQWFc3CKBurZIUO58sbNkHuVQ-0DuvQuD81G91J5aybCCArUOrnVkIfTfyHDiQ9Kv_PgNFWnImoz4SM_g==) O Google AI Studio é ideal para prototipagem rápida, [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQG8-pTQPnuPrn4T-yoAIeveHgz2ClmZk7D-pRT7LqiRiCMgYqhZHELlwU6a93jfalQWFc3CKBurZIUO58sbNkHuVQ-0DuvQuD81G91J5aybCCArUOrnVkIfTfyHDiQ9Kv_PgNFWnImoz4SM_g==) enquanto o Vertex AI é recomendado para aplicações em produção. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQG8-pTQPnuPrn4T-yoAIeveHgz2ClmZk7D-pRT7LqiRiCMgYqhZHELlwU6a93jfalQWFc3CKBurZIUO58sbNkHuVQ-0DuvQuD81G91J5aybCCArUOrnVkIfTfyHDiQ9Kv_PgNFWnImoz4SM_g==) Para otimizar custo e latência, `gemini-1.5-flash` é uma boa escolha; para alta precisão, `gemini-1.5-pro` é preferível. O objetivo é alinhar o modelo com o caso de uso e, em seguida, otimizar custos e latência. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEocOE7AG90yQmRn3ssXM06bFM9eg-MWraTMOqkBWjno2AB5GkNlhwusNyvv-FjRRFYOHEIBftvov5fcY3uCWDXJXMRViF2JEQZ_2cYuNOsKAAlsA3firql-Kk6ts7mIYMn-EH0RltMGEaiWCSarlSHswtzzAiB0a8hbWIruGQmGjwxrbMjSCxaddO5mlOb6f32U7WsT2CEtdKi6lJ-jmt7H2x3hjMhccwFqU3Chzbk6XU=)
    *   **Otimização de Custos e Latência:** Minimize chamadas desnecessárias ao LLM e o uso de tokens. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGETNWx6ar8FCMfsaMHIp9pXtZVJ_5h2y0PcdE0epG9tLpGrq7BBVYAfiQ6FDb7BcOVotT0XcOgBRx_O6_okFrPdkuQfy8KD91cFBUd8ZIwPa-1uhZqswHv6wIU7iRGs2_1ZWYs1EiXyaZnanwiJp7jFCJNqi3osmg3glCIuU8mT4QCVMrlsH94E8CJcRaPEjW2_JE3latrve8xuMhrXZCnX-4pVjh58E4kf_WzfEW2) Envie apenas o contexto essencial, sumarizando turnos anteriores no estado do agente para evitar reenvio de históricos completos. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGETNWx6ar8FCMfsaMHIp9pXtZVJ_5h2y0PcdE0epG9tLpGrq7BBVYAfiQ6FDb7BcOVotT0XcOgBRx_O6_okFrPdkuQfy8KD91cFBUd8ZIwPa-1uhZqswHv6wIU7iRGs2_1ZWYs1EiXyaZnanwiJp7jFCJNqi3osmg3glCIuU8mT4QCVMrlsH94E8CJcRaPEjW2_JE3latrve8xuMhrXZCnX-4pVjh58E4kf_WzfEW2) Use ferramentas para tarefas determinísticas, pois cada chamada de ferramenta resulta em pelo menos um turno de LLM. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGETNWx6ar8FCMfsaMHIp9pXtZVJ_5h2y0PcdE0epG9tLpGrq7BBVYAfiQ6FDb7BcOVotT0XcOgBRx_O6_okFrPdkuQfy8KD91cFBUd8ZIwPa-1uhZqswHv6wIU7iRGs2_1ZWYs1EiXyaZnanwiJp7jFCJNqi3osmg3glCIuU8mT4QCVMrlsH94E8CJcRaPEjW2_JE3latrve8xuMhrXZCnX-4pVjh58E4kf_WzfEW2) Implemente cache usando callbacks para evitar a repetição de prompts. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGETNWx6ar8FCMfsaMHIp9pXtZVJ_5h2y0PcdE0epG9tLpGrq7BBVYAfiQ6FDb7BcOVotT0XcOgBRx_O6_okFrPdkuQfy8KD91cFBUd8ZIwPa-1uhZqswHv6wIU7iRGs2_1ZWYs1EiXyaZnanwiJp7jFCJNqi3osmg3glCIuU8mT4QCVMrlsH94E8CJcRaPEjW2_JE3latrve8xuMhrXZCnX-4pVjh58E4kf_WzfEW2) O uso de streaming (`partial=True`) pode melhorar a latência percebida. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGETNWx6ar8FCMfsaMHIp9pXtZVJ_5h2y0PcdE0epG9tLpGrq7BBVYAfiQ6FDb7BcOVotT0XcOgBRx_O6_okFrPdkuQfy8KD91cFBUd8ZIwPa-1uhZqswHv6wIU7iRGs2_1ZWYs1EiXyaZnanwiJp7jFCJNqi3osmg3glCIuU8mT4QCVMrlsH94E8CJcRaPEjW2_JE3latrve8xuMhrXZCnX-4pVjh58E4kf_WzfEW2) Forneça instruções claras e descrições detalhadas para o agente, o que é vital para o roteamento em sistemas multi-agentes. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGjLCK8ae4zQAyBARd4GkrQ4MpilV6ewx-PxS7TOWPd7wiZjaAEEbQlDvKHGoIzd8iUlYbxN3dEb6URR7enAMwtTHwar-WrHNEvBNmWunwNyjkHFoaDK_QPjlmFSdJxFBw_86S-aUoBRJ_u5-abU80=)
*   **Tratamento de Erros e Limites de API:**
    *   **Tratamento de Erros:** Implemente tratamento robusto de erros em torno das execuções do agente para capturar e registrar problemas inesperados. [jcharistech.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFQ3Hbz5f1fjDP1KykavEqfKxxO4m-Zgyu68gEG9sUQJl72Z1xADqkItRu6c4wR5lAdMjsQvfG-tXBL7lccvJBSHn5-z6UpAz7oQEH0KladQku9uLOzKsMLuyl57CU7Ao_LtocaI0_gzZ3yc955xkxH6fP7bwvvU3MEQTiacBzgGuzJj7HFxgjB8NmLlaBqVCXVkkNsedv4tqFP) Dentro das funções de callback, use blocos `try...except` para lidar com erros, registrá-los e decidir se a execução deve parar ou tentar se recuperar. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGYpZxJLwFfpPcgV-XAZNgXPuFbo1RiOG6iaJ1oghtNHmx7Crn9nSC0gkPkxS59j6xVymRj2A57MvnJy4MTJl3zRW-3KisnMd8HgeUHHiSmRwWypbyXMmR5S-zAgXNe2CaRKVZ2GxHVQcTZ8g1t35ygfL3gzFblbPRtWH6y2y8l3VA7y9JbjMSJ4KY=) Se uma ferramenta retornar um erro, reporte-o ao usuário de forma clara. [plainenglish.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGt_oD327UIM_dPPYVbeoO1IdAMmVmvggNPOxXGF7SYKon_q7yOYE8zWfkDmJYbL6eO2ohl9xUxvAgIzCQP9CtpwzJKRssEd_d3Hw6oS4aclgIamXHyNlE-rqlFpXnEZils_mgSlPL62vF5zB2gcdXSzKhcX2Fq4eAdBG-rG-Hfl3lbZeqOeFhbo6kXKM_H8kcbE_EPK4X80MLHfp6wdoifziRAAsC_U2A4xFBKsSucVlEEC1BS)
    *   **Gerenciamento de Limites de API:** Requisições que excedem os limites podem ser rejeitadas com erros como `RESOURCE_TEMPORARILY_EXHAUSTED`. [google.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFuW_hroVVzGQotVwGoS8sgYGKpfCx8sgDw7OVpK4D62F4D2QzDgmvoY6E02arz0CqKjBGfEk4W3SsuzLYJqgNxz1bUpozeNGateJ0iu3oMw5fSvWIdZfYG8elaAiZiHlXVKzOSkjVLyzabPQmqCtTH9w_fAiltkLzRQakRYYhQ-oAdzlAOvA==) Estratégias de mitigação incluem reduzir tarefas concorrentes, [google.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFuW_hroVVzGQotVwGoS8sgYGKpfCx8sgDw7OVpK4D62F4D2QzDgmvoY6E02arz0CqKjBGfEk4W3SsuzLYJqgNxz1bUpozeNGateJ0iu3oMw5fSvWIdZfYG8elaAiZiHlXVKzOSkjVLyzabPQmqCtTH9w_fAiltkLzRQakRYYhQ-oAdzlAOvA==) agrupar requisições (batching), [google.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFuW_hroVVzGQotVwGoS8sgYGKpfCx8sgDw7OVpK4D62F4D2QzDgmvoY6E02arz0CqKjBGfEk4W3SsuzLYJqgNxz1bUpozeNGateJ0iu3oMw5fSvWIdZfYG8elaAiZiHlXVKzOSkjVLyzabPQmqCtTH9w_fAiltkLzRQakRYYhQ-oAdzlAOvA==) implementar limitação de taxa no lado do cliente (throttling), [google.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFuW_hroVVzGQotVwGoS8sgYGKpfCx8sgDw7OVpK4D62F4D2QzDgmvoY6E02arz0CqKjBGfEk4W3SsuzLYJqgNxz1bUpozeNGateJ0iu3oMw5fSvWIdZfYG8elaAiZiHlXVKzOSkjVLyzabPQmqCtTH9w_fAiltkLzRQakRYYhQ-oAdzlAOvA==) usar filas de mensagens para novas tentativas, [google.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFuW_hroVVzGQotVwGoS8sgYGKpfCx8sgDw7OVpK4D62F4D2QzDgmvoY6E02arz0CqKjBGfEk4W3SsuzLYJqgNxz1bUpozeNGateJ0iu3oMw5fSvWIdZfYG8elaAiZiHlXVKzOSkjVLyzabPQmqCtTH9w_fAiltkLzRQakRYYhQ-oAdzlAOvA==) implementar cache para reduzir chamadas diretas, [testfully.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEcGa1WrMik6Th2fHyvR3oL5UugxGo7v_aCbjZXTTzJJqRDkD0RjJPHRmhlab-UvALTRWpAiqK2PPx9q_FMQD4ZEU2cB_MIP44rWu6eTBhJFZUcBj1UhX3g36R5JarsBG8vpmvd) definir timeouts razoáveis, [testfully.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEcGa1WrMik6Th2fHyvR3oL5UugxGo7v_aCbjZXTTzJJqRDkD0RjJPHRmhlab-UvALTRWpAiqK2PPx9q_FMQD4ZEU2cB_MIP44rWu6eTBhJFZUcBj1UhX3g36R5JarsBG8vpmvd) e adicionar atrasos aleatórios (jitter) às novas tentativas. [getambassador.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQHwpbQh-ZCKXhJ2ljejMB6apfAqd-_jhMV27-IqK4n027Xa0wEc6cAFStCQWy7cK_F3RcYBqmHLzt2a5rDoBJykNVGSnFEd6svJBNpFikH9IiwQiZDKNTd-c5eLfHDB1kbp5KBHl325wYcGq16Vm4QNvY8aq-WusM0OKI3wY5vJSYmFra731090NA==)
*   **Testes e Debugging de Agentes:**
    *   **Necessidade de Avaliação:** Devido à natureza probabilística dos LLMs, os testes tradicionais são insuficientes. É necessária uma avaliação qualitativa tanto da saída final quanto da "trajetória" do agente (a sequência de passos tomados). [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc_6zGJASRybjMbLQMjitFTLkt5pObSEFZCJ3cl7MWFZGiy9dt2jKS684ualFfcviVPgMebx-r3PTnbfnYXXCA5qdcs3XSL2ID2n_V7fMOF5_CvPddgUsbrkXHunUdSTV9aNFEcmw=)
    *   **O que Avaliar:** Defina objetivos claros e métricas relevantes (precisão, relevância, etc.). [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc_6zGJASRybjMbLQMjitFTLkt5pObSEFZCJ3cl7MWFZGiy9dt2jKS684ualFfcviVPgMebx-r3PTnbfnYXXCA5qdcs3XSL2ID2n_V7fMOF5_CvPddgUsbrkXHunUdSTV9aNFEcmw=) Analise as etapas que um agente leva para chegar a uma solução, incluindo a escolha e eficiência das ferramentas, [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc_6zGJASRybjMbLQMjitFTLkt5pObSEFZCJ3cl7MWFZGiy9dt2jKS684ualFfcviVPgMebx-r3PTnbfnYXXCA5qdcs3XSL2ID2n_V7fMOF5_CvPddgUsbrkXHunUdSTV9aNFEcmw=) e avalie a qualidade, relevância e correção da saída final do agente. [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc_6zGJASRybjMbLQMjitFTLkt5pObSEFZCJ3cl7MWFZGiy9dt2jKS684ualFfcviVPgMebx-r3PTnbfnYXXCA5qdcs3XSL2ID2n_V7fMOF5_CvPddgUsbrkXHunUdSTV9aNFEcmw=)
    *   **Metodologias e Ferramentas de Teste:** Use testes de unidade para componentes individuais como ferramentas e callbacks (com objetos de contexto mock) [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQGYpZxJLwFfpPcgV-XAZNgXPuFbo1RiOG6iaJ1oghtNHmx7Crn9nSC0gkPkxS59j6xVymRj2A57MvnJy4MTJl3zRW-3KisnMd8HgeUHHiSmRwWypbyXMmR5S-zAgXNe2CaRKVZ2GxHVQcTZ8g1t35ygfL3gzFblbPRtWH6y2y8l3VA7y9JbjMSJ4KY=) e testes de integração para garantir que tudo funcione em conjunto. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQFXeNSNpOt-dphq5o4h4IvpbVZY2goCITRcD1gtnVd2UPJ-M17DZT1dfvDSkkwrCxFmRD59sEk_Bz_dbPZMF0zc0cmUM_goXFRc2NGlb5GiHVc8G1APLBgtWQlH04cEApPJHFE5Fal0mnaxmBUEzVEoqZ0e1sfa-2gaQ2hCOqBD9POJIh0KrNeRzYR4sQxasDtGhRhzF5R8YagSxTRmK3TVvN4R) O ADK fornece ferramentas de avaliação como o `adk web` (para inspeção interativa), [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc_6zGJASRybjMbLQMjitFTLkt5pObSEFZCJ3cl7MWFZGiy9dt2jKS684ualFfcviVPgMebx-r3PTnbfnYXXCA5qdcs3XSL2ID2n_V7fMOF5_CvPddgUsbrkXHunUdSTV9aNFEcmw=) `adk eval` (para execução via CLI a partir de um dataset), [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc_6zGJASRybjMbLQMjitFTLkt5pObSEFZCJ3cl7MWFZGiy9dt2jKS684ualFfcviVPgMebx-r3PTnbfnYXXCA5qdcs3XSL2ID2n_V7fMOF5_CvPddgUsbrkXHunUdSTV9aNFEcmw=) e `pytest` (para avaliações programáticas e integração com CI/CD). [github.io](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEc_6zGJASRybjMbLQMjitFTLkt5pObSEFZCJ3cl7MWFZGiy9dt2jKS684ualFfcviVPgMebx-r3PTnbfnYXXCA5qdcs3XSL2ID2n_V7fMOF5_CvPddgUsbrkXHunUdSTV9aNFEcmw=)
    *   **Debugging e Rastreamento (Tracing):** O ADK oferece mecanismos integrados para rastrear o comportamento do agente. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEJQCW9yUDfu6kP_eHMuOvPvkm-oq6ZKihGc4VDYi4lRhGeo6zESLEDj4QKqnJ-L4JEMSI-onKdtwgtqKC96WbcI0uKMywh5jAPDCtFwKPrE_bGnuevkkv3t94396xKRWA4-r1yqRzhZjFkpVyCBc5HuLb_DoO_pd7QPkkwjpg4eTyY7jPtLa-avn1A-Co=) Cada execução pode ser registrada em um rastro passo a passo, detalhando a entrada, a ferramenta selecionada e suas entradas/saídas. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEJQCW9yUDfu6kP_eHMuOvPvkm-oq6ZKihGc4VDYi4lRhGeo6zESLEDj4QKqnJ-L4JEMSI-onKdtwgtqKC96WbcI0uKMywh5jAPDCtFwKPrE_bGnuevkkv3t94396xKRWA4-r1yqRzhZjFkpVyCBc5HuLb_DoO_pd7QPkkwjpg4eTyY7jPtLa-avn1A-Co=) A integração com OpenTelemetry (OTEL) instrumenta automaticamente o processo de raciocínio do agente e a execução das ferramentas. [wandb.ai](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEdvf7iNzFWfxkyj_kGtaNm7m4mqLXYQWvDi2FopfE0FYeg8q9Y19pUbrWvIM_fvHWuEjfEqLGHNRtzWKMBhwHAWDDw_J44rBkWy6EVhW9mjvsOz08KaAfaGe-cSAwZa7SQBPaXcS-DQ-7CwVBrz-bxpmPwwV8e) A combinação de rastreamento com práticas de observabilidade ajuda a identificar bugs, reduzir alucinações e refinar fluxos de trabalho. [medium.com](https://vertexaisearch.cloud.google.com/grounding-api-redirect/AUZIYQEJQCW9yUDfu6kP_eHMuOvPvkm-oq6ZKihGc4VDYi4lRhGeo6zESLEDj4QKqnJ-L4JEMSI-onKdtwgtqKC96WbcI0uKMywh5jAPDCtFwKPrE_bGnuevkkv3t94396xKRWA4-r1yqRzhZjFkpVyCBc5HuLb_DoO_pd7QPkkwjpg4eTyY7jPtLa-avn1A-Co=)